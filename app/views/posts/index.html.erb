<div class="container">
  <h1>All Videos</h1>
  
  <div id="trending_posts" class="row my-5">
    <h2>Trending Videos</h2>
    <% @posts.each do |post| %>
      <div id="<%= dom_id post %>" class='post col mx-5 p-2'>
        <%= video_tag url_for(post.video), controls: true, size: "300x100" %>
        <p><strong>Posted by:</strong> <%= post.user.email %></p>
        <p>
          <%= link_to "Likes(#{post.likes.count})", post_path(post) %>
        </p>
        <p>
          <%= link_to "Comments(#{post.comments.count})", post_path(post) %>
        </p>
        <%= link_to 'View Video', post_path(post) %>
      </div>
    <% end %>
  </div>

  <div id="recommended_posts" class="row my-5 trending">
    <h2>Recommended Videos</h2>
    <% @posts.each do |post| %>
      <div id="<%= dom_id post %>" class='post col mx-5 p-2'>
        <%= video_tag url_for(post.video), controls: true, size: "300x100" %>
        <p><strong>Posted by:</strong> <%= post.user.email %></p>
        <p>
          <%= link_to "Likes(#{post.likes.count})", post_path(post) %>
        </p>
        <p>
          <%= link_to "Comments(#{post.comments.count})", post_path(post) %>
        </p>
        <%= link_to 'View Video', post_path(post) %>
      </div>
    <% end %>
  </div>

  <div id="recent_posts" class="row my-5 recently_watched">
    <h2>Recently Watched Videos</h2>
    <% @posts.each do |post| %>
      <div id="<%= dom_id post %>" class='post col mx-5 p-2'>
        <%= video_tag url_for(post.video), controls: true, size: "300x100" %>
        <p><strong>Posted by:</strong> <%= post.user.email %></p>
        <p>
          <%= link_to "Likes(#{post.likes.count})", post_path(post) %>
        </p>
        <p>
          <%= link_to "Comments(#{post.comments.count})", post_path(post) %>
        </p>
        <%= link_to 'View Video', post_path(post) %>
      </div>
    <% end %>
  </div>
  
  <% if current_user.admin %>
    <%= link_to "New post", new_post_path %>
  <% end %>
</div>
